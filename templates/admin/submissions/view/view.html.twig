{% extends '@Forumify/admin/base.html.twig' %}
{% block title_page %}{% endblock %}
{% block body %}
    <h1 class="flex items-center gap-2 mb-4">
        {{ submission.form.name }}
        {% include '@ForumifyPerscomPlugin/frontend/roster/components/status.html.twig' with {
            status: submission.statuses[0],
            class: 'text-small'
        } only %}
    </h1>
    <div class="box mb-6">
        <div class="mb-2">
            <p class="text-bold">{{ 'perscom.admin.submissions.view.user'|trans }}</p>
            <p>{{ submission.user.name }}</p>
        </div>
        {% for field in submission.form.fields %}
            <div class="mb-2">
                <p class="text-bold">{{ field.name }}</p>
                {% set value = submission[field.key] is defined ? submission[field.key] : '' %}
                <p>
                    {% if field.type is same as 'date' %}
                        {% set value = value|perscomDate %}
                        {% if value %}
                            {{ 'date'|trans({ date: value }) }}
                        {% endif %}
                    {% else %}
                        {{ value }}
                    {% endif %}
                </p>
            </div>
        {% endfor %}
    </div>
    <h2 class="mb-4">{{ 'perscom.admin.submissions.view.status_history'|trans }}</h2>
    <ul>
        {% for status in submission.statuses %}
            <li class="box mb-2">
                <h4>{{ status.name }}</h4>
                <p class="text-small mb-2">Jan 01, 2000 by unknown</p>
                <p>
                    CHANGE REASON NOT IMPLEMENTED YET
                </p>
            </li>
        {% endfor %}
    </ul>

{% endblock %}
